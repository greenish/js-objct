/*! 
 * objectfactory - v2.x (https://github.com/greenish/js-objectfactory)
 * 
 * Copyright (c) 2013 Philipp Adrian (www.philippadrian.com)
 *
 * The MIT Licence (http://opensource.org/licenses/MIT)
 */
!function(t,e){"use strict";var o=function(){},r=function(){return{}},n="jmuMMRs6AUUG29/3HXcs8Z0ofQlkG0hqiNAJlZq2hHYakB/QmyfnRuCsh2yf+c6m",a="function",s="object",c=Array.toString(),f=Array.isArray||function(t){return typeof t==s&&"[object Array]"===Object.prototype.toString.call(t)||"constructor"in t&&String(t.constructor)===c},i=function(t){var e=typeof t;return e===a||e===s&&!f(t)},u=function(t,e){var r,n,s=typeof t===a;return o.prototype=s?t.prototype:t,r=new o,o.prototype=null,s&&(n=t.apply(r,e),i(n))?n:r},y=function(t,e,o){var r=typeof t;if(r===a)t.apply(o.instance,e);else if(r===s&&f(t))for(var n=0;n<t.length;n++)y(t[n],e,o)},d=function(t,o,r,s,c){var f,i=typeof o[r],u=s.onDelete[c+r];s.onDelete[c+r]=e,f=i===a&&o[r].hash===n?o[r].call(s.instance,t,r,c+r,s):o[r],s.decorated&&y(u,[t,r,c+r,s.shared],s),t[r]=f},p=function(t,e,o,r,n){var a;if(n=n||"",f(e))for(a=0;a<e.length;a++)d(t,e,a,o,n);else if(typeof r===s)for(a in r)d(t,e,r[a],o,n);else for(a in e)d(t,e,a,o,n)},l=function(t,o,r){var n,s,c=o.prototype;return p(t,c,r),r.decorated?(o.prototype=t,n=u(o,r.shared.args),o.prototype=c,s=typeof Object.getOwnPropertyNames===a?Object.getOwnPropertyNames(n):e,void p(t,n,r,s)):(o.apply(t,r.shared.args),t)},h=function(t,e){var o,r=1,n=typeof t[0].obj===a?u(t[0].obj,e.shared.args):t[0].obj;for(e.instance=e.instance||n,e.decorated&&p(n,n,e);r<t.length;r++)o=t[r].isFactory?t[r].obj.call(g,t[r],e):t[r].obj,typeof o===a?l(n,o,e):p(n,o,e);return n},g=function(){var t,e=function(t,e){if(this&&this.hash===n)return t.modules=o.shared.modules,h(o.shared.modules,e);o.shared.args=arguments;var r=h(o.shared.modules,o);if(o.decorated){o.onConstructKeys.sort();for(var a=0;a<o.onConstructKeys.length;a++)y(o.onConstruct[a],[e.shared],e)}return r},o={shared:{args:[],modules:[]},instance:!1,decorated:!0,onConstruct:{},onConstructKeys:[],onDelete:{}},c=arguments;this instanceof g&&Array.prototype.unshift.call(c,r);for(var f=0;f<c.length;f++){if(t=typeof c[f],!i(c[f]))throw"objectfactory: Unexpected '"+(t===s?"array":t)+"'! Only 'functions' and 'objects' can be used with the objectfactory.";o.shared.modules.push({obj:c[f],isFactory:t===a&&""+c[f]===b}),t===a&&p(e,c[f],o)}return e};g.hash=n;var b=""+g();t.exports=g,typeof define===a&&define.amd?define(function(){return g}):typeof window===s&&(window.objectfactory=g)}("undefined"==typeof module?{}:module);