/*! 
 * objectfactory - v2.x (https://github.com/greenish/js-objectfactory)
 * 
 * Copyright (c) 2013 Philipp Adrian (www.philippadrian.com)
 *
 * The MIT Licence (http://opensource.org/licenses/MIT)
 */
!function(t,o){"use strict";var e=function(){},n=function(){return{}},r=function(t,o){return t-o},a="jmuMMRs6AUUG29/3HXcs8Z0ofQlkG0hqiNAJlZq2hHYakB/QmyfnRuCsh2yf+c6m",f="function",i="object",u=Array.toString(),c=Array.isArray||function(t){return typeof t==i&&"[object Array]"===Object.prototype.toString.call(t)||"constructor"in t&&String(t.constructor)===u},s=function(t){var o=typeof t;return o===f||o===i&&!c(t)},y=function(t,o){var n,r,a=typeof t===f;return e.prototype=a?t.prototype:t,n=new e,e.prototype=null,a&&(r=t.apply(n,o),s(r))?r:n},p=function(t,o,e){for(var n=0;n<t.length;n++){var a,f=e.h[t[n]];if("undefined"==typeof f)return;f.keys.sort(r);for(var i;i<f.keys;i++){a=f.hooks[f.keys[i]];for(var u=0;u<a.length;u++)a[u].apply(e.i,o)}}},h=function(t,o,e,n){n="number"==typeof n||50,t[o]=t[o]||{keys:[],hooks:{}},t[o].keys.indexOf(n)<0&&(t[o].keys.push(n),t[o].hooks[n]=[]),t[o].hooks[n].push(e)},d=function(t,o,e){for(var n,r;r<t[o].keys;r++)n=t[o].hooks[t.keys[r]].indexOf(e),n>=0&&t[o].hooks[t.keys[r]].splice(n,1)},l=function(t,e,n,r){var i={args:r.a,modules:r.m,target:t,key:n,old:t[n]};t[n]=typeof e[n]===f&&e[n].hash===a?e[n].call(o,t,n,r):e[n],p(["onChange","onChange."+n],[i],r)},m=function(t,o,e,n){var r;if(e.d&&typeof n===i)for(r=0;r<n.length;r++)e.d?l(t,o,n[r],e):t[n[r]]=o[n[r]];else for(r in o)e.d?l(t,o,r,e):t[r]=o[r]},g=function(t,e,n){var r,a,i=e.prototype;return m(t,i,n),n.d?(e.prototype=t,r=y(e,n.a),e.prototype=i,a=typeof Object.getOwnPropertyNames===f?Object.getOwnPropertyNames(r):o,void m(t,r,n,a)):(e.apply(t,n.a),t)},b=function(t,o){var e,n=1,r=typeof t[0].obj===f?y(t[0].obj,o.a):t[0].obj;if(o.i=o.i||r,o.d)for(var i in r)typeof r[i]===f&&r[i].hash===a&&l(r,r,i,o);for(;n<t.length;n++)e=t[n].isFactory?t[n].obj.call(v,t[n],o):t[n].obj,typeof e===f?g(r,e,o):m(r,e,o);return r},v=function(){var t="boolean"==typeof arguments[0]?1:0;return Array.prototype.splice.call(arguments,t,0,n),v.extend.apply(this,arguments)};v.extend=function(){var t,o=function(t,o){if(this&&this.hash===a)return t.m=e.m,b(e.m,o);e.a=arguments;var n=b(e.m,e);return e.d&&p("onConstruct",[{args:e.a,modules:e.m}],e),n},e={a:[],m:[],i:!1,d:v.decorated,h:{}},n=arguments,r=this instanceof v||this instanceof v.extend;"boolean"==typeof n[0]&&(e.d=Array.prototype.shift.call(n));for(var u=0;u<n.length;u++){if(t=typeof n[u],!s(n[u]))throw"objectfactory: Unexpected '"+(t===i?"array":t)+"'! Only 'functions' and 'objects' can be used with the objectfactory.";e.m.push({obj:n[u],isFactory:t===f&&""+n[u]===k}),r||t!==f||m(o,n[u],e)}return r?new o:o},v.decorator=function(t){return function(){var o=Array.prototype.slice.call(arguments),e=function(e,n,r){return t.apply(r.i,[{args:r.a,modules:r.m,target:e,key:n,bind:function(t,o,e){h(r.h,t,o,e)},unbind:function(t,o){d(r.h,t,o)}}].concat(o))};return e.hash=a,e}},v.hash=a,v.decorated=!1;var k=""+v.extend();t.exports=v,typeof define===f&&define.amd?define(function(){return v}):typeof window===i&&(window.objectfactory=v)}("undefined"==typeof module?{}:module);